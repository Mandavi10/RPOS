function ItemGroupDropdown() { jquery_min_p("#ddlitemgroup").html(""), jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/ItemGroupDropdown", data: "{}", dataType: "json", async: !1, success: function (result) { var i = 0, jsondata = eval(result); $("#ddlitemgroup").append('<option value="0">Select</option>'); for (var i = 0; i < result.length; i++) { var newOption = $("<option>"); newOption.attr("value", result[i].itemgroupId).text(result[i].itemgroupName), $("#ddlitemgroup").append(newOption) } }, error: function (e) { jquery_min_p("#h6warning").text("There is a Problem, Try Again!"), jquery_min_p("#dngwarn").modal("show") } }) } function UOMDropdown() { jquery_min_p("#ddlUOM").html(""), jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/UOMDropdown", data: "{}", dataType: "json", async: !1, success: function (result) { var i = 0, jsondata = eval(result), newOption = ""; $("#ddlUOM").append('<option value="0">Select</option>'); for (var i = 0; i < result.length; i++) newOption = $("<option>"), newOption.attr("value", result[i].UOMID).text(result[i].UOMName), $("#ddlUOM").append(newOption) }, error: function (e) { jquery_min_p("#h6warning").text("There is a Problem, Try Again!"), jquery_min_p("#dngwarn").modal("show") } }) } function saveitemgroup() { var ItemGroupId = jquery_min_p("#lblgroupitemid").text(), ItemGroupCode = jquery_min_p("#txtgrpcode").val().replace("'", "\\'"), ItemGroupName = jquery_min_p("#txtgrpname").val().replace("'", "\\'"), Description = jquery_min_p("#txtdescription").val().replace("'", "\\'"), AccountNumber = jquery_min_p("#txtmainaccount").val().replace("'", "\\'"); jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/SaveItemGroup", data: "{'ItemGroupCode':'" + ItemGroupCode + "','ItemGroupName':'" + ItemGroupName + "','Description':'" + Description + "','AccountNumber':'" + AccountNumber + "','ItemGroupId':'" + ItemGroupId + "'}", dataType: "json", async: !1, success: function (result) { var i = 0, jsondata = eval(result); BindGroupItemList(), Reset(), "0" == result && (jquery_min_p("#popupsuccess").text("Item Group Saved Successfully"), jquery_min_p("#savePopup").modal("show")), "1" == result && (jquery_min_p("#popupsuccess").text("Item Group Updated Successfully"), jquery_min_p("#savePopup").modal("show")) }, error: function (e) { jquery_min_p("#h6warning").text("There is a Problem, Try Again!"), jquery_min_p("#dngwarn").modal("show") } }) } function saveitem() { var ItemId = jquery_min_p("#lblitemid").text(), ItemName = jquery_min_p("#txtname").val().replace("'", "\\'"), ItemGroupId = jquery_min_p("#ddlitemgroup").val(), UnitOfMeasure = jquery_min_p("#ddlUOM").val(), ItemSalePrice = jquery_min_p("#txtitemprice").val().replace("'", "\\'"); jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/SaveItem", data: "{'ItemName':'" + ItemName + "','ItemGroupId':'" + ItemGroupId + "','UnitOfMeasure':'" + UnitOfMeasure + "','ItemSalePrice':'" + ItemSalePrice + "','ItemId':'" + ItemId + "'}", dataType: "json", async: !1, success: function (result) { var i = 0, jsondata = eval(result); "0" == result && (jquery_min_p("#popupsuccess").text("Item Saved Successfully"), jquery_min_p("#savePopup").modal("show")), "1" == result && (jquery_min_p("#popupsuccess").text("Item Updated Successfully"), jquery_min_p("#savePopup").modal("show")), BindItemList() }, error: function (e) { jquery_min_p("#h6warning").text("There is a Problem, Try Again!"), jquery_min_p("#dngwarn").modal("show") } }) } function BindGroupItemList() { var wh = jquery_min_p(document).height(), gh = wh - 190, dataCompany = []; jquery_min_p("#itemGroupGrid").html(""), jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/BindGroupItemList", data: "{}", dataType: "json", async: !1, success: function (result) { console.log(result); var i = 0, jsonData = eval(result), arraycount = result.length, Query = ""; Query += "<thead>", Query += "<tr>", Query += "  <th>Item Group Code</th>", Query += "<th>Item Group Name</th>", Query += "<th>Description</th>", Query += "<th>Main Account</th>", Query += "<th>Edit</th>", Query += "</tr>", Query += "</thead>", Query += "<tbody id='tblgrouplist'>"; for (var i = 0; i < arraycount; i++) Query += "", Query = Query + "<tr onclick='CheckList(" + result[i].EmpID + ");'>", Query = Query + "  <td>" + result[i].ItemGroupCode + "</td>", Query = Query + "  <td>" + result[i].ItemGroupName + "</td>", Query = Query + "  <td>" + result[i].Description + "</td>", Query = Query + " <td>" + result[i].AccountNumber + "</td>", Query = Query + " <td onclick='ShowGroupItemList(" + result[i].ItemGroupId + ");'><i class='fa fa-pencil-square-o' aria-hidden='true'></i></td>", Query += "</tr>"; jquery_min_p("#itemGroupGrid").append(Query), jquery_min_p("#dvsearch").css("display", "block") }, error: function () { } }) } function BindItemList() { var wh = jquery_min_p(document).height(), gh = wh - 190, dataCompany = []; jquery_min_p("#newItemGrid").html(""), jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/BindItemList", data: "{}", dataType: "json", async: !1, success: function (result) { console.log(result); var i = 0, jsonData = eval(result), arraycount = result.length, Query = ""; Query += "<thead>", Query += "<tr>", Query += "  <th>Item No.</th>", Query += "<th>Item Name</th>", Query += "<th>Item Group</th>", Query += "<th>Unit Of Measure</th>", Query += "<th>Item Price</th>", Query += "<th>Edit</th>", Query += "</tr>", Query += "</thead>", Query += "<tbody id='tblsearchitem'>"; for (var i = 0; i < arraycount; i++) Query += "", Query += "", Query = Query + "<tr data-toggle='modal' data-target='#icard' onclick='CheckList(" + result[i].EmpID + ");'>", Query = Query + "  <td>" + result[i].ItemCode + "</td>", Query = Query + "  <td>" + result[i].ItemName + "</td>", Query = Query + "  <td>" + result[i].ItemGroupName + "</td>", Query = Query + " <td>" + result[i].UOMName + "</td>", Query = Query + " <td>" + result[i].ItemSalePrice + "</td>", Query = Query + " <td onclick='ShowItemList(" + result[i].ItemId + ");'><i class='fa fa-pencil-square-o' aria-hidden='true'></i></td>", Query += "</tr>"; jquery_min_p("#newItemGrid").append(Query), jquery_min_p("#dvsearch").css("display", "block") }, error: function () { } }) } function Reset() { jquery_min_p("#txtgrpcode").val(""), jquery_min_p("#lblgroupitemid").text(""), jquery_min_p("#txtgrpname").val(""), jquery_min_p("#txtdescription").val(""), jquery_min_p("#txtmainaccount").val(""), jquery_min_p("#txtname").val(""), jquery_min_p("#txtitemprice").val(""), jquery_min_p("#lblitemid").text(""), jquery_min_p("#txtitemcode").val(""), jquery_min_p("#txtgrpcode").removeClass("validate"), jquery_min_p("#txtgrpname").removeClass("validate"), jquery_min_p("#txtdescription").removeClass("validate"), jquery_min_p("#txtmainaccount").removeClass("validate"), jquery_min_p("#txtname").removeClass("validate"), jquery_min_p("#ddlitemgroup").removeClass("validate"), jquery_min_p("#ddlUOM").removeClass("validate"), jquery_min_p("#txtitemprice").removeClass("validate"), jquery_min_p("#txtitemcode").removeClass("validate") } function BindNewItemid() { jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/BindNewItemNo", data: "{}", dataType: "json", async: !1, success: function (result) { console.log(result); var i = 0, jsonData = eval(result), code = result[i].Itemname; jquery_min_p("#txtitemcode").val(code) }, error: function () { } }) } function EditItemList() { jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/EditItemList", data: "{'ItemId':'" + ItemId + "'}", dataType: "json", async: !1, success: function (result) { var i = 0, jsondata = eval(result) }, error: function (e) { jquery_min_p("#h6warning").text("There is a Problem, Try Again!"), jquery_min_p("#dngwarn").modal("show") } }) } function ShowItemList(ItemId) { Reset(); var a = ItemId; jquery_min_p("#lblitemid").text(a), jquery_min_p("#lblitem").text("Update Item"), jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/ShowItemList", data: "{'ItemId':'" + ItemId + "'}", dataType: "json", async: !1, success: function (result) { console.log(result); var i = 0, jsonData = eval(result), code = result[i].ItemCode, ItemName = result[i].ItemName, ItemGroupName = result[i].ItemGroupName, UOMName = result[i].UOMName, ItemSalePrice = result[i].ItemSalePrice, ItemGroupId = result[i].ItemGroupId, UOMID = result[i].UOMID; jquery_min_p("#txtitemcode").val(code), jquery_min_p("#txtname").val(ItemName), jquery_min_p("#ddlitemgroup").val(ItemGroupId), jquery_min_p("#ddlUOM ").val(UOMID), jquery_min_p("#txtitemprice").val(ItemSalePrice), jquery_min_p("#btnnewitemsave").css("display", "none"), jquery_min_p("#btnnewitemupdate").css("display", "block"), bootstrap_min_p("#newItemPopup").modal("show") }, error: function () { } }) } function ItemValidation() { var e = 0; return "" == $.trim(jquery_min_p("#txtitemprice").val()) && (jquery_min_p("#txtitemprice").addClass("validate"), e = 1), "" == $.trim(jquery_min_p("#txtname").val()) && (jquery_min_p("#txtname").addClass("validate"), e = 1), "0" == jquery_min_p("#ddlitemgroup").val() && (jquery_min_p("#ddlitemgroup").addClass("validate"), e = 1), "0" == jquery_min_p("#ddlUOM").val() && (jquery_min_p("#ddlUOM").addClass("validate"), e = 1), 1 != e } function ItemRemoveClass() { "" != jquery_min_p("#txtitemprice").val() && jquery_min_p("#txtitemprice").removeClass("validate"), "" != jquery_min_p("#txtname").val() && jquery_min_p("#txtname").removeClass("validate"), "0" != jquery_min_p("#ddlitemgroup").val() && jquery_min_p("#ddlitemgroup").removeClass("validate"), "0" != jquery_min_p("#ddlUOM").val() && jquery_min_p("#ddlUOM").removeClass("validate") } function GroupValidation() { var e = 0; return "" == $.trim(jquery_min_p("#txtgrpcode").val()) && (jquery_min_p("#txtgrpcode").addClass("validate"), e = 1), "" == $.trim(jquery_min_p("#txtgrpname").val()) && (jquery_min_p("#txtgrpname").addClass("validate"), e = 1), "" == $.trim(jquery_min_p("#txtdescription").val()) && (jquery_min_p("#txtdescription").addClass("validate"), e = 1), "" == $.trim(jquery_min_p("#txtmainaccount").val()) && (jquery_min_p("#txtmainaccount").addClass("validate"), e = 1), 1 != e } function GroupRemoveClass() { "" != jquery_min_p("#txtgrpcode").val() && jquery_min_p("#txtgrpcode").removeClass("validate"), "" != jquery_min_p("#txtgrpname").val() && jquery_min_p("#txtgrpname").removeClass("validate"), "" != jquery_min_p("#txtdescription").val() && jquery_min_p("#txtdescription").removeClass("validate"), "" != jquery_min_p("#txtmainaccount").val() && jquery_min_p("#txtmainaccount").removeClass("validate") } function ShowGroupItemList(ItemGroupId) { var a = ItemGroupId; jquery_min_p("#lblgroupitemid").text(a), jquery_min_p("#lblitemgroup").text("Update Item Group"), jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/ShowGroupItemList", data: "{'ItemGroupId':'" + ItemGroupId + "'}", dataType: "json", async: !1, success: function (result) { console.log(result); var i = 0, jsonData = eval(result), GroupName = result[i].ItemGroupName, GroupCode = result[i].ItemGroupCode, AccountNo = result[i].AccountNumber, Descriptions = result[i].Description; jquery_min_p("#txtgrpcode").val(GroupCode), jquery_min_p("#txtgrpname").val(GroupName), jquery_min_p("#txtdescription").val(Descriptions), jquery_min_p("#txtmainaccount").val(AccountNo), jquery_min_p("#txtgrpcode").attr("disabled", "disabled"), jquery_min_p("#btnitemgroupsave").css("display", "none"), jquery_min_p("#btnitemgroupupdate").css("display", "block"), bootstrap_min_p("#newItemGroupPopup").modal("show") }, error: function () { } }) } function CheckGroupcode() { var GroupCode = jquery_min_p("#txtgrpcode").val().replace("'", "\\'"); jquery_min_p.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: "/Master/CheckGroupcode", data: "{'GroupCode':'" + GroupCode + "'}", dataType: "json", async: !1, success: function (result) { var i = 0, jsondata = eval(result); console.log(result), "1" == jsondata[0].result ? (jquery_min_p("#txtgrpcode").val(""), jquery_min_p("#txtgrpcode").attr("placeholder", "Group Code already exist."), jquery_min_p("#txtgrpcode").addClass("validate")) : jquery_min_p("#divempcode").css("display", "none") }, error: function (e) { jquery_min_p("#h6warning").text("There is a Problem, Try Again!"), jquery_min_p("#dngwarn").modal("show") } }) } function CheckList() { } jquery_min_p(document).ready(function () { ItemGroupDropdown(), UOMDropdown(), jquery_min_p(document).ready(function () { jquery_min_p("#txtsearch").on("keyup", function () { var e = jquery_min_p(this).val().toLowerCase(); jquery_min_p("#tblgrouplist   tr").filter(function () { jquery_min_p(this).toggle($(this).text().toLowerCase().indexOf(e) > -1) }) }) }), jquery_min_p(document).ready(function () { jquery_min_p("#txtsearch").on("keyup", function () { var e = jquery_min_p(this).val().toLowerCase(); jquery_min_p("#tblsearchitem   tr").filter(function () { jquery_min_p(this).toggle($(this).text().toLowerCase().indexOf(e) > -1) }) }) }), jquery_min_p("#divcreateItemGroupBtn").click(function () { jquery_min_p("#createItemGroupBtn").css("display", "block"), jquery_min_p("#createItemBtn").css("display", "none"), jquery_min_p("#divcreateItemGroupBtn").css("display", "none"), jquery_min_p("#divcreateItemBtn").css("display", "none"), jquery_min_p("#divitemgroup").css("display", "block"), jquery_min_p("#txtItemName").text("Item Group Master"), BindGroupItemList() }), jquery_min_p("#divcreateItemBtn").click(function () { jquery_min_p("#txtItemName").text("Item Master"), jquery_min_p("#createItemGroupBtn").css("display", "none"), jquery_min_p("#createItemBtn").css("display", "block"), jquery_min_p("#createNewItem").css("display", "none"), jquery_min_p("#divitem").css("display", "block"), BindItemList() }), jquery_min_p("#txtitemprice").keypress(function (e) { e.keyCode; 46 == e.which && -1 == $(this).val().indexOf(".") || !(e.which < 48 || e.which > 57) || 0 == e.which || 8 == e.which || e.preventDefault(); var t = jquery_min_p(this).val(); -1 != t.indexOf(".") && t.substring(t.indexOf(".")).length > 2 && 0 != e.which && 8 != e.which && jquery_min_p(this)[0].selectionStart >= t.length - 2 && e.preventDefault() }), jquery_min_p("#txtmainaccount").keypress(function (e) { var t = e.keyCode; (t >= 65 && t <= 90 || t >= 97 && t <= 122 || t >= 33 && t <= 47 || t >= 58 && t <= 64 || t >= 91 && t <= 96 || t >= 123 && t <= 126) && e.preventDefault() }), jquery_min_p("#txtgrpcode").keypress(function (e) { var t = e.keyCode; (t >= 65 && t <= 90 || t >= 97 && t <= 122 || t >= 33 && t <= 47 || t >= 58 && t <= 64 || t >= 91 && t <= 96 || t >= 123 && t <= 126) && e.preventDefault() }), jquery_min_p("#itemExit").click(function () { window.location = "/Master/Home", Reset() }), jquery_min_p("#btncloseitem").click(function () { bootstrap_min_p("#newItemPopup").modal("hide") }), jquery_min_p("#createItemBtn").click(function () { jquery_min_p("#lblitem").text("Add New Item"), bootstrap_min_p("#newItemPopup").modal("show"), jquery_min_p("#btnnewitemsave").css("display", "block"), jquery_min_p("#btnnewitemupdate").css("display", "none"), Reset(), BindNewItemid(), ItemGroupDropdown(), UOMDropdown() }), jquery_min_p("#createItemGroupBtn").click(function () { Reset(), jquery_min_p("#lblitemgroup").text("Add New Item Group"), jquery_min_p("#txtgrpcode").removeAttr("disabled"), bootstrap_min_p("#newItemGroupPopup").modal("show"), jquery_min_p("#btnitemgroupsave").css("display", "block"), jquery_min_p("#btnitemgroupupdate").css("display", "none") }), jquery_min_p("#btnitemgroupsave").click(function () { if (!GroupValidation()) return !1; saveitemgroup() }), jquery_min_p("#btnitemgroupupdate").click(function () { if (!GroupValidation()) return !1; saveitemgroup() }), jquery_min_p("#btnnewitemsave").click(function () { if (!ItemValidation()) return !1; saveitem(), bootstrap_min_p("#newItemPopup").modal("hide") }), jquery_min_p("#btnnewitemupdate").click(function () { if (!ItemValidation()) return !1; saveitem(), bootstrap_min_p("#newItemPopup").modal("hide") }) });